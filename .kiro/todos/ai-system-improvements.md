# AI System Improvements TODO

## 概要
TaskNagのAIシステムを実用的なタスク管理ツールとして最適化する改善計画

## Phase 1: LLMモデル管理システム (優先度: 最高)

### 1.1 モデル選択・管理機能
- [ ] **現在使用中モデル表示機能**
  - AgentServiceに現在モデル取得メソッド追加
  - AI設定UIに「現在使用中: llama3:latest」表示
  - 見積もり: 2時間

- [ ] **モデル選択UI実装**  
  - ドロップダウンでモデル選択可能に
  - 選択したモデルをローカル設定に保存
  - AgentService初期化時に保存されたモデル使用
  - 見積もり: 4時間

- [ ] **モデル情報表示機能**
  - 各モデルの特性・推奨用途表示
  - モデルサイズ・速度・品質の簡易指標
  - 見積もり: 3時間

### 1.2 モデル管理バックエンド
- [ ] **AgentService設定システム**
  - 設定可能なモデル管理
  - デフォルトモデル設定機能
  - 見積もり: 3時間

## Phase 2: TaskNag特化AI最適化 (優先度: 高)

### 2.1 タスク分解システム改善
- [ ] **TaskNag専用プロンプトテンプレート**
  - 実行可能な具体的サブタスク生成に特化
  - 複雑度・優先度指標を削除
  - TaskNag通知システム（レベル1-3）との統合
  - 見積もり: 6時間

- [ ] **タスク分解品質向上**
  - サブタスクの粒度調整ロジック
  - 実際のプロジェクト進行を意識した分解
  - 依存関係を考慮したタスク順序
  - 見積もり: 8時間

- [ ] **生成タスクのプレビュー・編集機能**
  - AI生成タスクを保存前にプレビュー
  - 不要なタスク削除・編集機能
  - 見積もり: 5時間

### 2.2 TaskNagワークフロー統合
- [ ] **既存タスク構造考慮**
  - 親タスクとの関係性を考慮したサブタスク生成
  - 既存タスクとの重複回避
  - 見積もり: 4時間

## Phase 3: コンテキスト統合AI相談 (優先度: 中)

### 3.1 タスクコンテキスト自動注入
- [ ] **現在タスク状況分析**
  - ユーザーの未完了タスク分析
  - 期日が近いタスクの識別
  - 進行中プロジェクトの把握
  - 見積もり: 6時間

- [ ] **AI相談コンテキスト生成**
  - タスク状況をAIに自動で伝える仕組み
  - ユーザーの作業パターン分析
  - 見積もり: 5時間

### 3.2 タスク管理特化アドバイス
- [ ] **TaskNag特化相談機能**
  - タスクの優先順位提案
  - スケジュール調整アドバイス
  - 生産性向上提案
  - 見積もり: 8時間

- [ ] **プロアクティブなアドバイス**
  - 期日警告とアクション提案
  - タスク完了パターン分析
  - 見積もり: 10時間

## Phase 4: 高度なAI統合機能 (優先度: 低)

### 4.1 AI学習・適応機能
- [ ] **ユーザー行動学習**
  - タスク完了パターン学習
  - 個人に最適化されたタスク分解
  - 見積もり: 15時間

- [ ] **フィードバックシステム**
  - AI提案の評価機能
  - 学習データとしてのフィードバック活用
  - 見積もり: 12時間

## 実装スケジュール提案

### Week 1-2: Phase 1 (LLMモデル管理)
- Day 1-2: 現在モデル表示機能
- Day 3-5: モデル選択UI実装  
- Day 6-7: モデル情報表示機能
- Day 8-10: AgentService設定システム

### Week 3-4: Phase 2 (TaskNag特化AI)
- Day 1-3: TaskNag専用プロンプト
- Day 4-7: タスク分解品質向上
- Day 8-10: プレビュー・編集機能
- Day 11-12: 既存タスク構造考慮

### Week 5-6: Phase 3 (コンテキスト統合) ※必要に応じて
- Day 1-3: タスク状況分析
- Day 4-6: AIコンテキスト生成
- Day 7-10: TaskNag特化相談機能
- Day 11-14: プロアクティブアドバイス

## 技術的注意点

### バックエンド実装
- AgentServiceにモデル管理機能追加
- 設定永続化（SQLite agent_config利用）
- プロンプトテンプレートシステム

### フロントエンド実装
- AI設定UIの拡張
- タスク生成プレビュー機能
- リアルタイムモデル切り替え

### プロンプトエンジニアリング
- TaskNag固有の用語・概念の統合
- 実行可能性を重視した出力形式
- 日本語での自然なタスク表現

## 期待される効果

1. **ユーザビリティ向上**: LLMモデル制御による予測可能なAI動作
2. **実用性向上**: TaskNag特化によるより使えるタスク生成
3. **統合性向上**: タスク管理ツールとしての一体感
4. **生産性向上**: コンテキストを理解したアドバイス機能